<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.sang.mapper.EmpMapper">

    <insert id="addEmp" parameterType="org.sang.bean.Employee">
            insert into employee (name, phone,
      school, tiptopDegree, graduationTime, gender,
      workplace, job, workAge,wedlock, currentSalary,expectedSalary,
      recommendClient, channel,communicationContent,HR,interviewTime,workTime,introduction,workExperience,projectExperience
      )
    values (
     #{name,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR}, #{school,jdbcType=VARCHAR}, #{tiptopDegree,jdbcType=VARCHAR},
     #{graduationTime,jdbcType=DATE}, #{gender,jdbcType=VARCHAR}, #{workplace,jdbcType=VARCHAR}, #{job,jdbcType=VARCHAR},
     #{workAge,jdbcType=INTEGER}, #{wedlock,jdbcType=VARCHAR}, #{currentSalary,jdbcType=DECIMAL}, #{expectedSalary,jdbcType=DECIMAL},
     #{recommendClient,jdbcType=VARCHAR}, #{channel,jdbcType=VARCHAR}, #{communicationContent,jdbcType=VARCHAR}, #{HR,jdbcType=VARCHAR},
     #{interviewTime,jdbcType=DATE}, #{workTime,jdbcType=DATE}, #{introduction,jdbcType=VARCHAR}, #{workExperience,jdbcType=VARCHAR},
     #{projectExperience,jdbcType=VARCHAR}
      )
    </insert>


    <select id="getEmployeeByPage" resultType="org.sang.bean.Employee">
       select * from employee as e
       where 1=1
        <if test="name!=null and name!=''">
           and e.name LIKE concat('%',#{name},'%')
        </if>
        <if test="start!=null and size!=''">
            order by e.id limit #{start},#{size}
        </if>
    </select>

    <select id="getCountByName" resultType="Long">
        SELECT count(*) FROM employee e WHERE 1=1

        <if test="name!=null and name!=''">
            and e.name LIKE concat('%',#{name},'%')
        </if>
    </select>

    <delete id="deleteEmpById">
        DELETE FROM employee WHERE id IN
        <foreach collection="ids" separator="," open="(" close=")" item="id">
            #{id}
        </foreach>
    </delete>

</mapper>